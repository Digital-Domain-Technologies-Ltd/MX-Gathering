{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Appendix K MX Page Pattern Schema",
  "type": "object",

  "required": [
    "title",
    "pattern-id",
    "document-type",
    "author",
    "co-ownership",
    "version",
    "status",
    "date",
    "purpose",
    "mx-principles",
    "metadata-philosophy",
    "pattern-type",
    "pattern-scope",
    "machine-intent",
    "human-intent",
    "inputs",
    "outputs",
    "validation"
  ],

  "properties": {
    "title": { "type": "string" },
    "subtitle": { "type": "string" },

    "pattern-id": {
      "type": "string",
      "pattern": "^K\\.[0-9]+(\\.[0-9]+)?$"
    },

    "document-type": {
      "type": "string",
      "const": "mx-page-pattern"
    },

    "author": { "type": "string" },
    "editor": { "type": "string" },

    "co-ownership": {
      "type": "array",
      "items": { "type": "string" },
      "minItems": 1
    },

    "version": { "type": "string" },
    "status": { "type": "string" },
    "date": { "type": "string", "format": "date" },

    "purpose": { "type": "string" },

    "audience": {
      "type": "array",
      "items": { "type": "string" }
    },

    "keywords": {
      "type": "array",
      "items": { "type": "string" }
    },

    "mx-principles": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "machines-are-first-class-citizens",
          "universal-metadata",
          "convergence-principle",
          "semantic-clarity",
          "explicit-intent",
          "open-standards"
        ]
      },
      "minItems": 1
    },

    "rights": { "type": "string" },
    "language": { "type": "string" },
    "canonical-url": { "type": "string" },

    "related-documents": {
      "type": "array",
      "items": { "type": "string" }
    },

    "metadata-philosophy": { "type": "string" },

    "pattern-type": {
      "type": "string",
      "enum": ["page", "component", "layout", "structure"]
    },

    "pattern-scope": { "type": "string" },

    "machine-intent": { "type": "string" },
    "human-intent": { "type": "string" },

    "inputs": {
      "type": "array",
      "items": { "type": "string" }
    },

    "outputs": {
      "type": "array",
      "items": { "type": "string" }
    },

    "validation": {
      "type": "array",
      "items": { "type": "string" }
    }
  }
}
